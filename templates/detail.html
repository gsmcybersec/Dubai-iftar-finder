<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ mosque.name }} ‚Äî UAE Iftar Finder</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Plus+Jakarta+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root{--navy:#0a0f1e;--navy2:#111827;--navy3:#1e2a3a;--gold:#c9922a;--gold2:#e8b84b;--cream:#fdf8f0;--white:#fff;--muted:#94a3b8;--border:rgba(201,146,42,0.2);--card-bg:#141c2e}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Plus Jakarta Sans',sans-serif;background:var(--navy);color:var(--white)}
nav{position:sticky;top:0;z-index:100;background:rgba(10,15,30,.95);backdrop-filter:blur(12px);border-bottom:1px solid var(--border);padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}
.logo{display:flex;align-items:center;gap:.6rem;text-decoration:none}
.logo-icon{width:36px;height:36px;background:linear-gradient(135deg,var(--gold),var(--gold2));border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.2rem}
.logo-text{font-family:'Playfair Display',serif;font-size:1.2rem;color:var(--white)}
.logo-text span{color:var(--gold2)}
.nav-links a{color:var(--muted);text-decoration:none;padding:.5rem 1rem;border-radius:8px;font-size:.9rem;transition:all .2s}
.nav-links a:hover{color:var(--white);background:rgba(255,255,255,.05)}
.nav-btn{background:linear-gradient(135deg,var(--gold),var(--gold2));color:var(--navy)!important;font-weight:600}
main{max-width:780px;margin:2.5rem auto;padding:0 1.5rem 4rem}
.back{display:inline-flex;align-items:center;gap:.4rem;color:var(--muted);text-decoration:none;font-size:.875rem;margin-bottom:1.75rem;padding:.5rem .9rem;border:1px solid var(--border);border-radius:8px;transition:all .2s}
.back:hover{color:var(--gold2);border-color:var(--gold)}
.detail-card{background:var(--card-bg);border:1px solid var(--border);border-radius:20px;overflow:hidden}
.card-header{padding:2.5rem 2rem;background:linear-gradient(135deg,var(--navy3),#1a2535);border-bottom:1px solid var(--border);position:relative;overflow:hidden}
.card-header::before{content:'';position:absolute;top:-40px;right:-40px;width:180px;height:180px;background:radial-gradient(circle,rgba(201,146,42,0.15),transparent 70%);pointer-events:none}
.mosque-icon{font-size:3.5rem;margin-bottom:1rem}
.mosque-title{font-family:'Playfair Display',serif;font-size:2rem;font-weight:700;margin-bottom:.4rem}
.mosque-arabic{font-family:'Playfair Display',serif;font-size:1.2rem;color:var(--gold2);direction:rtl;margin-bottom:.75rem;opacity:.85}
.header-tags{display:flex;gap:.6rem;flex-wrap:wrap}
.header-tag{display:inline-flex;align-items:center;gap:.3rem;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);padding:.3rem .85rem;border-radius:999px;font-size:.82rem;color:rgba(255,255,255,.8)}
.verified-tag{background:rgba(16,185,129,.12);border-color:rgba(16,185,129,.3);color:#6ee7b7}
.card-body{padding:2rem}
.info-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.5rem}
.info-item{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:1rem}
.info-label{font-size:.7rem;font-weight:600;letter-spacing:.1em;text-transform:uppercase;color:var(--muted);margin-bottom:.4rem}
.info-value{font-size:.95rem;font-weight:500;color:var(--white)}
.food-section{margin-bottom:1.5rem}
.food-section-label{font-size:.75rem;font-weight:600;letter-spacing:.1em;text-transform:uppercase;color:var(--gold2);margin-bottom:.6rem}
.food-tags{display:flex;gap:.5rem;flex-wrap:wrap}
.food-tag{background:rgba(201,146,42,0.12);color:var(--gold2);font-size:.82rem;padding:.3rem .85rem;border-radius:999px;border:1px solid rgba(201,146,42,.25)}
.notes-box{background:rgba(201,146,42,0.06);border:1px solid rgba(201,146,42,.15);border-radius:12px;padding:1.25rem;margin-bottom:1.75rem}
.notes-label{font-size:.7rem;font-weight:600;letter-spacing:.1em;text-transform:uppercase;color:var(--gold);margin-bottom:.6rem}
.notes-text{font-size:.92rem;color:rgba(255,255,255,.75);line-height:1.65}
.actions{display:flex;gap:.85rem;flex-wrap:wrap}
.btn{display:inline-flex;align-items:center;gap:.45rem;padding:.8rem 1.5rem;border-radius:10px;font-weight:600;text-decoration:none;font-size:.9rem;transition:all .2s;border:none;cursor:pointer;font-family:'Plus Jakarta Sans',sans-serif}
.btn:hover{transform:translateY(-1px)}
.btn-primary{background:linear-gradient(135deg,var(--gold),var(--gold2));color:var(--navy)}
.btn-primary:hover{box-shadow:0 6px 20px rgba(201,146,42,.4)}
.btn-whatsapp{background:rgba(37,211,102,.12);color:#25d366;border:1px solid rgba(37,211,102,.3)}
.btn-whatsapp:hover{background:rgba(37,211,102,.22)}
.btn-secondary{background:rgba(255,255,255,.06);color:var(--muted);border:1px solid rgba(255,255,255,.1)}
.btn-secondary:hover{color:var(--white);background:rgba(255,255,255,.1)}
.map-placeholder{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:12px;height:180px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:.6rem;color:var(--muted);margin-bottom:1.5rem;font-size:.875rem}
.map-placeholder a{color:var(--gold2);text-decoration:none;font-weight:600}
footer{background:var(--navy2);border-top:1px solid var(--border);padding:1.5rem;text-align:center}
.footer-name{font-family:'Playfair Display',serif;color:var(--gold2);font-size:1rem;margin-bottom:.4rem}
.footer-links{display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap;margin-bottom:.4rem}
.footer-links a{color:var(--muted);text-decoration:none;font-size:.85rem}
.footer-links a:hover{color:var(--gold2)}
.footer-copy{font-size:.78rem;color:rgba(148,163,184,.4)}
@media(max-width:640px){
  nav{padding:.75rem 1rem}
  .nav-links a:not(.nav-btn){display:none}
  main{padding:0 1rem 3rem;margin-top:1.5rem}
  .card-header{padding:1.75rem 1.25rem}
  .mosque-title{font-size:1.5rem}
  .card-body{padding:1.25rem}
  .info-grid{grid-template-columns:1fr}
  .actions{flex-direction:column}
  .btn{justify-content:center}
}
</style>
</head>
<body>
<nav>
  <a href="/" class="logo">
    <div class="logo-icon">üïå</div>
    <span class="logo-text">UAE <span>Iftar</span> Finder</span>
  </a>
  <div class="nav-links">
    <a href="/search">Browse</a>
    <a href="/add" class="nav-btn">+ Add</a>
  </div>
</nav>

<main>
  <a href="/search" class="back">‚Üê Back to Results</a>
  <div class="detail-card">
    <div class="card-header">
      <div class="mosque-icon">üïå</div>
      <h1 class="mosque-title">{{ mosque.name }}</h1>
      {% if mosque.arabic_name %}<div class="mosque-arabic">{{ mosque.arabic_name }}</div>{% endif %}
      <div class="header-tags">
        <span class="header-tag">üìç {{ mosque.area }}, {{ mosque.city }}</span>
        <span class="header-tag">üåô {{ mosque.iftar_time or 'Maghrib' }}</span>
        {% if mosque.verified %}<span class="header-tag verified-tag">‚úì Verified</span>{% endif %}
      </div>
    </div>

    <div class="card-body">
      {% if mosque.lat and mosque.lng %}
      <div class="map-placeholder">
        üó∫Ô∏è <span><a href="https://maps.google.com/?q={{ mosque.lat }},{{ mosque.lng }}" target="_blank">Open in Google Maps</a> for directions</span>
      </div>
      {% endif %}

      <div class="info-grid">
        <div class="info-item">
          <div class="info-label">üåô Iftar Time</div>
          <div class="info-value">{{ mosque.iftar_time or 'Maghrib' }}</div>
        </div>
        {% if mosque.capacity %}
        <div class="info-item">
          <div class="info-label">üë• Capacity</div>
          <div class="info-value">~{{ mosque.capacity }} people</div>
        </div>
        {% endif %}
        {% if mosque.contact %}
        <div class="info-item">
          <div class="info-label">üìû Contact</div>
          <div class="info-value">{{ mosque.contact }}</div>
        </div>
        {% endif %}
        {% if mosque.address %}
        <div class="info-item">
          <div class="info-label">üìç Address</div>
          <div class="info-value">{{ mosque.address }}</div>
        </div>
        {% endif %}
      </div>

      {% if mosque.food_type %}
      <div class="food-section">
        <div class="food-section-label">üçΩÔ∏è Food Available</div>
        <div class="food-tags">
          {% for ft in mosque.food_type.split(',') %}
          <span class="food-tag">{{ ft.strip() }}</span>
          {% endfor %}
        </div>
      </div>
      {% endif %}

      {% if mosque.notes %}
      <div class="notes-box">
        <div class="notes-label">‚ÑπÔ∏è Community Notes</div>
        <div class="notes-text">{{ mosque.notes }}</div>
      </div>
      {% endif %}

      <div class="actions">
        {% if mosque.lat and mosque.lng %}
        <a href="https://maps.google.com/?q={{ mosque.lat }},{{ mosque.lng }}" target="_blank" class="btn btn-primary">üó∫Ô∏è Get Directions</a>
        {% endif %}
        <button onclick="shareWhatsApp()" class="btn btn-whatsapp">üì≤ Share on WhatsApp</button>
        {% if mosque.contact %}
        <a href="tel:{{ mosque.contact }}" class="btn btn-secondary">üìû Call Mosque</a>
        {% endif %}
        <a href="/search" class="btn btn-secondary">‚Üê Back</a>
      </div>
    </div>
  </div>
</main>

<footer>
  <div class="footer-name">Built by Muhammad Farooque üåô</div>
  <div class="footer-links">
    <a href="/">Home</a>
    <a href="/search">Browse</a>
    <a href="/add">Add Mosque</a>
    <a href="mailto:technogsmfarooq@gmail.com">üìß Contact</a>
  </div>
  <div class="footer-copy">UAE Iftar Finder ¬∑ Ramadan Kareem üåô</div>
</footer>

<script>
function shareWhatsApp() {
  const name = "{{ mosque.name }}";
  const city = "{{ mosque.city }}";
  const area = "{{ mosque.area }}";
  const food = "{{ mosque.food_type or '' }}";
  const time = "{{ mosque.iftar_time or 'Maghrib' }}";
  const pageUrl = window.location.href;
  const text = `üïå *${name}*\nüìç ${area}, ${city}, UAE\nüåô Iftar Time: ${time}${food ? '\nüçΩÔ∏è Food: ' + food : ''}\n\nFind more UAE Iftar mosques:\n${pageUrl}`;
  window.open('https://wa.me/?text=' + encodeURIComponent(text), '_blank');
}
</script>
</body>
</html>
